<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Javascript</title>
</head>
<body>
    <h1>Formation Javascript</h1>
    <p>Lorem ipsum dolor, sit amet consectetur adipisicing elit. Totam nostrum pariatur sed tempore sit laborum reiciendis excepturi, similique culpa labore quaerat aliquid numquam nulla ad libero, nesciunt, facere tempora aperiam.</p>
    <h2>Les tableaux</h2>
    <script>
        /*let pays =  ['RDC', 'France', 'USA', 'Gabon']
        let nombre = [4,8,12,9]
        let somme = 0

        pays[1] = 'Italie'
        let dernier = pays.pop()
        let premier = pays.shift()
        pays.push('Soudan')
        pays.unshift('Belgique')
        console.log(pays)
        for(let i of nombre){
            somme += i

            console.log(somme)
        } */
       /* function hello (nom) {
            console.log('Hello world' + ' ' + nom)
        }
        hello('Jordane')*/
        //const hello = (nom, message) => message + " " + nom
        /*const somme = (a,b) => console.log(+a + +b)
        const multiplication = (a,b) => console.log(a*b)

        function operation(callback) {
            const val1 = prompt("Première valeur")
            const val2 = prompt("Deuxième valeur")
            callback(val1, val2)
        }

        operation((a, b) => {
            console.log(a - b)
        })*/
        // objet
        /*const user = {
            nom : "Jordane",
            genre : "Homme",
            age: 17
        }
        console.log(user)
        console.log(user['age']) //Autres manières d'affichage
        // pour parcourir un objet
        for(let i in user){
            console.log(i, user[i])
        }*/
        //Ajout d'une propriéte
        //user.profession = "Medecin"

        // Pour parcourir et copier
        /*for (let i in u){
            user[2] = user[1]
        }
        object.assign(user2, user1, user3)*/ // suite de l'exercice 
        //  Pour supprimer une propriété
        //delete user.profession  
        // Vérification de l'existence d'une propriété
        /*if ("age" in user) {
            console.log('OK')
        }
        else {
            console.log('KO')
        }*/
        // Les tableaux
        /*const users = [
            {nom : "Patricia", age : 17, genre : "Femme"},
            {nom : "Junior", age : 22, genre : "Homme"},
            {nom : "Gregoire", age : 18, genre : "Homme"},
            {nom : "Melissa", age : 32, genre : "Femme"},
            {nom : "Paul", age : 15, genre : "Homme"}
        ]
        // utilisation de la méthode map
        users.map((data) => {
            console.log(data.nom + " a " + data.age + " ans ") //Pour afficher chaque élément
        })
        // Pour le filtrage
        const femmes = users.filter((user) => user.genre == "Femme")
        // pour la recherche
        const search = users.find(user => user.nom.includes("Paul"))
        console.log(search)
        femmes.map((data) => {
            console.log(data.nom + " a " + data.age + " ans")
        })
        
        console.log(users)
        console.log(JSO.stringify(person))

        const pays = '{"nom":"Congo", "capital":"Kinshasa"}'
        const pays2 = JSON.parse(pays)
        console.log(pays)
        console.log(pays2.capital)*/

        // Gestion d'erreurs
        /*const salutation = (message, nom) => alert(message + " " + nom)

        //setTimeout(salutation, 3000, "Hello", "Jean")
        const compteur = setInterval(salutation, 3000, "Hello", "Jean")

        setTimeout(() => {
            clearInterval(compteur)
        }, 12000)*/

        /* const now = new Date();

        const date = new date("2015-12-20 15:30:22")
        const date2 = new date(2001, 8, 11, 9, 50, 43)
        console.log(now)*/

        /*function calculerage() {
            let date = prompt("Quelle est votre date de naissance ?")
            let age = new Date() - parseint(date)
            return age
        }*/

        // destructuration
        /*const pays = ["Angola", "Nigeria", "Comores", "France"]
        const asie = ["chine", "japon", "corée du sud"]
        const monde = [...pays, ...asie]
        const [angola, nigeria, ...Autres] = pays
        console.log(pays[1]) */

        /*const user1 = {nom:"Jean", age:25}
        const user2 = {profession: "medecin"}
        const user3 = {...user1, ...user2}

        console.log(user3)

        const somme = (...params) => {
            let calcul = 0
            for(let i of params) {
                calcul += i
            }
            return calcul
        }
        const calcul = somme(5,7,8, 12, 30)
        console.lg("Le résultat de l'addition est : ", calcul)*/
        
        // Récupération de données avec fetch
        /*async function getData(){
            let data = await fetch('https://jsonplaceholder.typicode.com/posts')
            .then((response) => response.json())
            
            console.log(data)
        }
        getData()
        
        //Envoie des données
        async function store(){
            const body = {
                    title: 'Forrmation js',
                    body: 'Parcours',
                    userId: 7,
                }
            let data = await fetch('https://jsonplaceholder.typicode.com/posts', {
                method: 'POST',
                body: JSON.stringify(body),
                headers: {
                    'Content-type': 'application/json; charset=UTF-8',
                },
            })
            .then((response) => response.json())
            
            console.log(data);

        }
        store()

        // Modification des données

        async function modif(){
            let data = await fetch('https://jsonplaceholder.typicode.com/posts/1', {
                method: 'PUT',
                body: JSON.stringify({
                    id: 1,
                    title: 'Formation',
                    body: 'Javascript',
                    userId: 10,
                }),
                headers: {
                    'Content-type': 'application/json; charset=UTF-8',
                },
            })
            .then((response) => response.json())
            
            console.log(data);


        }
        modif()

        async function getData1(){
            let data = await fetch('https://fakestoreapi.com/products')
            .then((response) => response.json())
            
            data.map(rep => {
                console.log(rep.rating.rate);
            })
        }
        getData1()*/

        // Les classes

        class Personne {
            constructor(nom, genre){
                this.nom = nom
                this.genre = genre
            }
            presentation(){
                return "je me nomme " + this.nom + " et je suis " + this.genre
            }
            age(annee){
                const age = new  Date().getFullYear() - annee
                return "Vous avez "+ age + " ans"
            }
        }

        class Etudiant extends Personne {
            constructor(nom, genre, universite, faculte) {
                super(nom, genre)
                this.universite = universite
                this.faculte = faculte
            }
            profil(){
                return"Je suis étudiant à " + this.universite + " à la faculte de " + this.faculte
            }
            presentation(){
                return "je me nomme " + this.nom + " et je suis " + this.genre + " et je suis étudiant à " + this.universite + " à la faculte de " + this.faculte
            }
        }
        class Agent extends Personne {
            constructor(nom, genre, poste, salaire) {
                super(nom, genre)
                this.poste = poste
                this.salaire = salaire
            }
            presentation(){
                return "Je me nomme " + this.nom + ", je suis " + this.genre + ", je travaille au poste de " + this.poste + " et je gagne " + this.salaire + " francs"
            }
        }
        const etudiant1 = new Etudiant("Vanessa", "Femme", "UPC", "Droit")
        const person1 = new Personne("Fabrice", "Homme")
        const person2 = new Personne("Jean", "Femme")
        const agent1 = new Agent("Henry", "Homme", "Secrétaire", 150000)
        console.log(agent1.presentation())
        console.log(person1.age(2005))
        console.log(person2.presentation())
        console.log(etudiant1.profil())
        console.log(etudiant1.presentation())

    </script>
</body>
</html>